define("jira/ajs/list/list-with-messages",["jira/ajs/list/list","jira/ajs/list/message-descriptor","jquery"],function(List,MessageDescriptor,$){var ListWithMessages=List.extend({_filterOption:function(item,keywordsRegex,labelRegex){if(item instanceof MessageDescriptor){return item}else{return this._super(item,keywordsRegex,labelRegex)}},_computeVisibleItems:function(){return this.items.not(".hidden, .disabled, .nofocus")},_generateOption:function(item,query,labelRegex){if(item instanceof MessageDescriptor){return this._render((item.useAUI()?"AUImessage":"message"),item)}else{return this._super(item,query,labelRegex)}}});ListWithMessages.prototype._renders.message=function(descriptor){var rawItemId=descriptor.messageID()||descriptor.fieldText()||descriptor.label(),itemId=AJS.escapeHtml($.trim(rawItemId).toLowerCase()).replace(/[\s\.]+/g,"-"),listElem=$('<li class="aui-list-item nofocus aui-list-item-li-'+itemId+'">'),messageElem=$('<span class="aui-list-item-message" />');if(descriptor.styleClass()){messageElem.addClass(descriptor.styleClass())}messageElem.text(descriptor.label());listElem.append(messageElem).data("descriptor",descriptor);return listElem};ListWithMessages.prototype._renders.AUImessage=function(descriptor){var rawItemId=descriptor.messageID()||descriptor.fieldText()||descriptor.label(),itemId=AJS.escapeHtml($.trim(rawItemId).toLowerCase()).replace(/[\s\.]+/g,"-"),listElem=$('<li class="aui-list-item nofocus aui-list-item-li-'+itemId+'">'),messageElem=$('<div class="aui-list-item-aui-message aui-message" />'),iconElem=$('<span class="aui-icon"/>'),contentElem=$("<p />");if(descriptor.styleClass()){messageElem.addClass(descriptor.styleClass());iconElem.addClass("icon-"+descriptor.styleClass())}else{iconElem.addClass("icon-generic")}contentElem.text(descriptor.label());messageElem.append(iconElem).append(contentElem);listElem.append(messageElem).data("descriptor",descriptor);return listElem};return ListWithMessages});AJS.namespace("AJS.ListWithMessages",null,require("jira/ajs/list/list-with-messages"));