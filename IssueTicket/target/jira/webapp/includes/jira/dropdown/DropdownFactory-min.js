define("jira/dropdown/dropdown-factory",["jira/ajs/dropdown/dropdown","jquery","exports"],function(Dropdown,$,exports){exports.bindGenericDropdowns=function bindGenericDropdowns(ctx){var trigger=$(".js-default-dropdown",ctx);trigger.each(function(){var $trigger=$(this),$content=$trigger.next(".aui-list"),alignment=$trigger.attr("data-alignment")||AJS.RIGHT,hasDropdown=!!$trigger.data("hasDropdown");if($content.length==0){console.warn("Dropdown init failied. Could not find content. Printing culprit...");console.log($trigger)}if(!hasDropdown){$trigger.data("hasDropdown",true);new Dropdown({trigger:$trigger,content:$content,alignment:alignment,setMaxHeightToWindow:$trigger.attr("data-contain-to-window"),hideOnScroll:$trigger.attr("data-hide-on-scroll")||".issue-container"})}})};exports.bindIssueActionsDds=function(ctx,options){var trigger=$(".issue-actions-trigger",ctx);trigger.each(function(){var $trigger=$(this);var dropdownConfig={hideOnScroll:".issue-container",trigger:$trigger,ajaxOptions:{dataType:"json",cache:false,formatSuccess:JIRA.FRAGMENTS.issueActionsFragment},onerror:function(instance){instance.layerController.initialized=true;instance.hide()}};dropdownConfig=$.extend(true,dropdownConfig,options);new Dropdown(dropdownConfig);$trigger.addClass("trigger-happy")})};exports.bindNavigatorOptionsDds=function(){var $navigatorOptions=$("#navigator-options");Dropdown.create({trigger:$navigatorOptions.find(".aui-dd-link"),content:$navigatorOptions.find(".aui-list"),alignment:AJS.RIGHT});$navigatorOptions.find("a.aui-dd-link").linkedMenu()};exports.bindConfigDashboardDds=function(){$("#dashboard").find(".aui-dd-parent").dropDown("Standard",{trigger:"a.aui-dd-link"})}});AJS.namespace("JIRA.Dropdowns",null,require("jira/dropdown/dropdown-factory"));